(()=>{var e={};e.id=667,e.ids=[667],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},6005:e=>{"use strict";e.exports=require("node:crypto")},79305:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),s(21512),s(90235),s(40509),s(68199),s(90996);var i=s(30170),a=s(45002),r=s(83876),n=s.n(r),l=s(66299),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["quiz",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,21512)),"/app/ielts-mcq-app/app/quiz/[slug]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,90235)),"/app/ielts-mcq-app/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,40509)),"/app/ielts-mcq-app/app/error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,68199)),"/app/ielts-mcq-app/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"]}],d=["/app/ielts-mcq-app/app/quiz/[slug]/page.tsx"],u="/quiz/[slug]/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new i.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/quiz/[slug]/page",pathname:"/quiz/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},62310:(e,t,s)=>{Promise.resolve().then(s.bind(s,21455))},21455:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>J});var i=s(97247),a=s(28964),r=s(34178),n=s(63505),l=s(14811),o=s(44389),c=s(9951);class d extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u({children:e,isPresent:t}){let s=(0,a.useId)(),r=(0,a.useRef)(null),n=(0,a.useRef)({width:0,height:0,top:0,left:0}),{nonce:l}=(0,a.useContext)(c._);return(0,a.useInsertionEffect)(()=>{let{width:e,height:i,top:a,left:o}=n.current;if(t||!r.current||!e||!i)return;r.current.dataset.motionPopId=s;let c=document.createElement("style");return l&&(c.nonce=l),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${i}px !important;
            top: ${a}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),(0,i.jsx)(d,{isPresent:t,childRef:r,sizeRef:n,children:a.cloneElement(e,{ref:r})})}let m=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:n,presenceAffectsLayout:c,mode:d})=>{let m=(0,l.h)(x),p=(0,a.useId)(),h=(0,a.useCallback)(e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;r&&r()},[m,r]),g=(0,a.useMemo)(()=>({id:p,initial:t,isPresent:s,custom:n,onExitComplete:h,register:e=>(m.set(e,!1),()=>m.delete(e))}),c?[Math.random(),h]:[s,h]);return(0,a.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[s]),a.useEffect(()=>{s||m.size||!r||r()},[s]),"popLayout"===d&&(e=(0,i.jsx)(u,{isPresent:s,children:e})),(0,i.jsx)(o.O.Provider,{value:g,children:e})};function x(){return new Map}var p=s(35826);let h=e=>e.key||"";function g(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}var f=s(9881);let j=({children:e,custom:t,initial:s=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:c="sync",propagate:d=!1})=>{let[u,x]=(0,p.oO)(d),j=(0,a.useMemo)(()=>g(e),[e]),v=d&&!u?[]:j.map(h),b=(0,a.useRef)(!0),w=(0,a.useRef)(j),y=(0,l.h)(()=>new Map),[N,k]=(0,a.useState)(j),[O,S]=(0,a.useState)(j);(0,f.L)(()=>{b.current=!1,w.current=j;for(let e=0;e<O.length;e++){let t=h(O[e]);v.includes(t)?y.delete(t):!0!==y.get(t)&&y.set(t,!1)}},[O,v.length,v.join("-")]);let C=[];if(j!==N){let e=[...j];for(let t=0;t<O.length;t++){let s=O[t],i=h(s);v.includes(i)||(e.splice(t,0,s),C.push(s))}"wait"===c&&C.length&&(e=C),S(g(e)),k(j);return}let{forceRender:z}=(0,a.useContext)(n.p);return(0,i.jsx)(i.Fragment,{children:O.map(e=>{let a=h(e),n=(!d||!!u)&&(j===O||v.includes(a));return(0,i.jsx)(m,{isPresent:n,initial:(!b.current||!!s)&&void 0,custom:n?void 0:t,presenceAffectsLayout:o,mode:c,onExitComplete:n?void 0:()=>{if(!y.has(a))return;y.set(a,!0);let e=!0;y.forEach(t=>{t||(e=!1)}),e&&(null==z||z(),S(w.current),d&&(null==x||x()),r&&r())},children:e},a)})})};var v=s(165);let b={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},w={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},y="mousemove",N="mouseup";function k(e,t){if(0===t)return e;let s=Math.PI/180*t;return[e[0]*Math.cos(s)+e[1]*Math.sin(s),e[1]*Math.cos(s)-e[0]*Math.sin(s)]}var O=s(29350),S=s(25008),C=s(89559),z=s(26323);let E=(0,z.Z)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);var M=s(58053),P=s(88964);let q=(0,z.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var T=s(37013);let R=["A","B","C","D","E","F"],Z=function({option:e,index:t,isSelected:s,onSelect:a,showResult:r=!1,disabled:n=!1}){let l=r&&e.isCorrect,o=r&&s&&!e.isCorrect;return(0,i.jsxs)(v.E.button,{className:(0,S.cn)("option-button w-full flex items-center gap-4 p-4 rounded-xl text-left","bg-card border-2 transition-all duration-200",!r&&!n&&"hover:border-primary/50 hover:bg-primary/5",s&&!r&&"selected border-primary bg-primary/10",l&&"correct border-emerald-500 bg-emerald-500/10",o&&"incorrect border-red-500 bg-red-500/10",n&&"cursor-default"),onClick:a,disabled:n,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},whileTap:n?void 0:{scale:.98},role:"radio","aria-checked":s,children:[i.jsx("span",{className:(0,S.cn)("flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center","text-sm font-bold transition-colors duration-200",!s&&!r&&"bg-muted text-muted-foreground",s&&!r&&"bg-primary text-primary-foreground",l&&"bg-emerald-500 text-white",o&&"bg-red-500 text-white"),children:r?l?i.jsx(q,{className:"w-5 h-5"}):o?i.jsx(T.Z,{className:"w-5 h-5"}):R[t]:R[t]}),i.jsx("span",{className:(0,S.cn)("flex-1 text-base",l&&"text-emerald-700 dark:text-emerald-300 font-medium",o&&"text-red-700 dark:text-red-300"),children:e.text}),s&&!r&&i.jsx(v.E.div,{className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},children:i.jsx(q,{className:"w-4 h-4 text-white"})})]})};function A({questionNumber:e,totalQuestions:t,text:s,type:a,options:r,selectedOption:n,onSelectOption:l,isFlagged:o,onToggleFlag:c,showResult:d=!1,imageUrl:u,audioUrl:m,explanation:x,difficulty:p}){let h=r.find(e=>e.isCorrect),g=d&&n===h?.id;return(0,i.jsxs)(v.E.div,{className:"glass-card rounded-2xl p-6 md:p-8 max-w-3xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Question ",e," of ",t]}),p&&i.jsx(P.C,{variant:"EASY"===p?"success":"HARD"===p?"warning":"EXPERT"===p?"destructive":"default",children:p.toLowerCase()})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[m&&i.jsx(M.z,{variant:"ghost",size:"icon",onClick:()=>{new Audio(m).play()},"aria-label":"Play audio",children:i.jsx(C.Z,{className:"h-5 w-5"})}),i.jsx(M.z,{variant:"ghost",size:"icon",onClick:c,className:(0,S.cn)(o&&"text-amber-500"),"aria-label":o?"Remove flag":"Flag for review",children:i.jsx(E,{className:(0,S.cn)("h-5 w-5",o&&"fill-current")})})]})]}),u&&i.jsx("div",{className:"mb-6 rounded-xl overflow-hidden",children:i.jsx("img",{src:u,alt:"Question image",className:"w-full h-auto max-h-64 object-contain bg-muted"})}),i.jsx(v.E.h2,{className:"text-xl md:text-2xl font-semibold text-foreground mb-8 leading-relaxed",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},"aria-live":"polite",children:s}),i.jsx("div",{className:"space-y-3",role:"radiogroup","aria-label":"Answer options",children:i.jsx(j,{mode:"wait",children:r.map((e,t)=>i.jsx(Z,{option:e,index:t,isSelected:n===e.id,onSelect:()=>l(e.id),showResult:d,disabled:d},e.id))})}),d&&(0,i.jsxs)(v.E.div,{className:(0,S.cn)("mt-6 p-4 rounded-xl",g?"bg-emerald-500/10 border border-emerald-500/20":"bg-red-500/10 border border-red-500/20"),initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{delay:.3},children:[i.jsx("p",{className:(0,S.cn)("font-semibold mb-2",g?"text-emerald-600":"text-red-600"),children:g?"✓ Correct!":"✗ Incorrect"}),!g&&h&&(0,i.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["Correct answer: ",i.jsx("span",{className:"font-medium text-foreground",children:h.text})]}),x&&(0,i.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:[i.jsx("span",{className:"font-medium",children:"Explanation:"})," ",x]})]})]})}let D=(0,z.Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);var L=s(17712);let U=(0,z.Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),$={sm:{ringSize:60,strokeWidth:4,fontSize:"text-sm"},md:{ringSize:80,strokeWidth:5,fontSize:"text-lg"},lg:{ringSize:100,strokeWidth:6,fontSize:"text-xl"}};function _({remainingTime:e,totalTime:t,isPaused:s,onPause:a,onResume:r,showControls:n=!0,size:l="md",className:o}){let{ringSize:c,strokeWidth:d,fontSize:u}=$[l],m=(c-d)/2,x=2*m*Math.PI,p=e<=60&&e>30,h=e<=30,[g,f]=h?["#ef4444","#f87171"]:p?["#f59e0b","#fbbf24"]:["#6366f1","#ec4899"];return(0,i.jsxs)("div",{className:(0,S.cn)("flex items-center gap-3",o),children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsxs)("svg",{width:c,height:c,viewBox:`0 0 ${c} ${c}`,className:"transform -rotate-90",children:[i.jsx("defs",{children:(0,i.jsxs)("linearGradient",{id:"timerGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:g}),i.jsx("stop",{offset:"100%",stopColor:f})]})}),i.jsx("circle",{cx:c/2,cy:c/2,r:m,fill:"none",stroke:"currentColor",strokeWidth:d,className:"text-muted"}),i.jsx(v.E.circle,{cx:c/2,cy:c/2,r:m,fill:"none",stroke:"url(#timerGradient)",strokeWidth:d,strokeLinecap:"round",strokeDasharray:x,animate:{strokeDashoffset:x-e/t*100/100*x},transition:{duration:.5,ease:"linear"}})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx(j,{mode:"wait",children:s?i.jsx(v.E.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},children:i.jsx(D,{className:"w-5 h-5 text-muted-foreground"})},"paused"):i.jsx(v.E.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:(0,S.cn)(h&&"animate-pulse text-red-500",p&&"text-amber-500",!h&&!p&&"text-primary"),children:i.jsx(L.Z,{className:"w-5 h-5"})},"clock")})})]}),(0,i.jsxs)("div",{className:"flex flex-col",children:[i.jsx(v.E.span,{className:(0,S.cn)(u,"font-bold font-mono",h&&"text-red-500",p&&"text-amber-500",!h&&!p&&"text-foreground"),animate:h?{scale:[1,1.1,1]}:void 0,transition:h?{repeat:1/0,duration:1}:void 0,children:`${Math.floor(e/60).toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`}),i.jsx("span",{className:"text-xs text-muted-foreground",children:s?"Paused":"Remaining"})]}),n&&i.jsx(M.z,{variant:"ghost",size:"icon",onClick:s?r:a,className:"ml-2","aria-label":s?"Resume quiz":"Pause quiz",children:s?i.jsx(U,{className:"w-5 h-5"}):i.jsx(D,{className:"w-5 h-5"})})]})}var F=s(4367);function I({current:e,total:t,answered:s,questions:a,onQuestionClick:r,showDots:n=!0,className:l}){return(0,i.jsxs)("div",{className:(0,S.cn)("space-y-4",l),children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[i.jsx(F.E,{value:s/t*100,className:"flex-1 h-2"}),(0,i.jsxs)("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:[s,"/",t," answered"]})]}),n&&i.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:a.map((e,t)=>i.jsx(v.E.button,{className:(0,S.cn)("w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium","transition-all duration-200 touch-target",e.isCurrent&&"ring-2 ring-primary ring-offset-2 ring-offset-background",e.isAnswered&&!e.isCurrent&&"bg-primary/20 text-primary",e.isFlagged&&"bg-amber-500/20 text-amber-600",!e.isAnswered&&!e.isCurrent&&"bg-muted text-muted-foreground","hover:scale-110"),onClick:()=>r?.(t),whileHover:{scale:1.1},whileTap:{scale:.95},"aria-label":`Go to question ${t+1}${e.isAnswered?", answered":""}${e.isFlagged?", flagged":""}`,"aria-current":e.isCurrent?"step":void 0,children:e.isAnswered?i.jsx(q,{className:"w-4 h-4"}):e.isFlagged?i.jsx(E,{className:"w-3 h-3"}):t+1},e.id))}),n&&(0,i.jsxs)("div",{className:"flex items-center justify-center gap-4 text-xs text-muted-foreground",children:[(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-primary/20"}),i.jsx("span",{children:"Answered"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500/20"}),i.jsx("span",{children:"Flagged"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-muted"}),i.jsx("span",{children:"Unanswered"})]})]})]})}var Q=s(85179),W=s(58621),G=s(52425),H=s(72411);let X=(0,z.Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),B=(0,z.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),V=(0,z.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var Y=s(56460);function J(){(0,r.useParams)();let e=(0,r.useRouter)(),{user:t,isAuthenticated:s,isLoading:n,addXP:l}=(0,O.aC)(),{fireCelebration:o}=(0,O.$0)(),{isStarted:c,isPaused:d,isCompleted:u,questions:m,currentIndex:x,answers:p,duration:h,initQuiz:g,selectAnswer:f,toggleFlag:S,nextQuestion:C,previousQuestion:z,goToQuestion:E,pause:P,resume:q,complete:R,reset:Z}=(0,O.v5)(),[D,L]=(0,a.useState)(!1),[U,$]=(0,a.useState)(!0),[F,J]=(0,a.useState)(!1),[K,ee]=(0,a.useState)(null),et=(0,O.J7)({onTimeUp:()=>{H.ZP.error("Time's up!"),er()},onWarning:()=>(0,H.ZP)("1 minute remaining!",{icon:"⏰"})}),es=m[x],ei=es?p[es.id]:void 0,ea=function(e){var t,s,i;let r;let{trackMouse:n}=e,l=a.useRef(Object.assign({},w)),o=a.useRef(Object.assign({},b)),c=a.useRef(Object.assign({},o.current));for(r in c.current=Object.assign({},o.current),o.current=Object.assign(Object.assign({},b),e),b)void 0===o.current[r]&&(o.current[r]=b[r]);let[d,u]=a.useMemo(()=>(function(e,t){let s=t=>{let s="touches"in t;s&&t.touches.length>1||e((e,a)=>{a.trackMouse&&!s&&(document.addEventListener(y,i),document.addEventListener(N,n));let{clientX:r,clientY:l}=s?t.touches[0]:t,o=k([r,l],a.rotationAngle);return a.onTouchStartOrOnMouseDown&&a.onTouchStartOrOnMouseDown({event:t}),Object.assign(Object.assign(Object.assign({},e),w),{initial:o.slice(),xy:o,start:t.timeStamp||0})})},i=t=>{e((e,s)=>{let i="touches"in t;if(i&&t.touches.length>1)return e;if(t.timeStamp-e.start>s.swipeDuration)return e.swiping?Object.assign(Object.assign({},e),{swiping:!1}):e;let{clientX:a,clientY:r}=i?t.touches[0]:t,[n,l]=k([a,r],s.rotationAngle),o=n-e.xy[0],c=l-e.xy[1],d=Math.abs(o),u=Math.abs(c),m=(t.timeStamp||0)-e.start,x=d>u?o>0?"Right":"Left":c>0?"Down":"Up",p="number"==typeof s.delta?s.delta:s.delta[x.toLowerCase()]||b.delta;if(d<p&&u<p&&!e.swiping)return e;let h={absX:d,absY:u,deltaX:o,deltaY:c,dir:x,event:t,first:e.first,initial:e.initial,velocity:Math.sqrt(d*d+u*u)/(m||1),vxvy:[o/(m||1),c/(m||1)]};h.first&&s.onSwipeStart&&s.onSwipeStart(h),s.onSwiping&&s.onSwiping(h);let g=!1;return(s.onSwiping||s.onSwiped||s[`onSwiped${x}`])&&(g=!0),g&&s.preventScrollOnSwipe&&s.trackTouch&&t.cancelable&&t.preventDefault(),Object.assign(Object.assign({},e),{first:!1,eventData:h,swiping:!0})})},a=t=>{e((e,s)=>{let i;if(e.swiping&&e.eventData){if(t.timeStamp-e.start<s.swipeDuration){i=Object.assign(Object.assign({},e.eventData),{event:t}),s.onSwiped&&s.onSwiped(i);let a=s[`onSwiped${i.dir}`];a&&a(i)}}else s.onTap&&s.onTap({event:t});return s.onTouchEndOrOnMouseUp&&s.onTouchEndOrOnMouseUp({event:t}),Object.assign(Object.assign(Object.assign({},e),w),{eventData:i})})},r=()=>{document.removeEventListener(y,i),document.removeEventListener(N,n)},n=e=>{r(),a(e)},l=(e,t)=>{let r=()=>{};if(e&&e.addEventListener){let n=Object.assign(Object.assign({},b.touchEventOptions),t.touchEventOptions),l=[["touchstart",s,n],["touchmove",i,Object.assign(Object.assign({},n),t.preventScrollOnSwipe?{passive:!1}:{})],["touchend",a,n]];l.forEach(([t,s,i])=>e.addEventListener(t,s,i)),r=()=>l.forEach(([t,s])=>e.removeEventListener(t,s))}return r},o={ref:t=>{null!==t&&e((e,s)=>{if(e.el===t)return e;let i={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),i.cleanUpTouch=void 0),s.trackTouch&&t&&(i.cleanUpTouch=l(t,s)),Object.assign(Object.assign(Object.assign({},e),{el:t}),i)})}};return t.trackMouse&&(o.onMouseDown=s),[o,l]})(e=>l.current=e(l.current,o.current),{trackMouse:n}),[n]);return l.current=(t=l.current,s=o.current,i=c.current,s.trackTouch&&t.el?t.cleanUpTouch?s.preventScrollOnSwipe!==i.preventScrollOnSwipe||s.touchEventOptions.passive!==i.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:u(t.el,s)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:u(t.el,s)}):(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0}))),d}({onSwipedLeft:()=>!F&&C(),onSwipedRight:()=>!F&&z(),preventScrollOnSwipe:!0,trackMouse:!1}),er=(0,a.useCallback)(async()=>{R(),J(!0),o();let e=10*Object.values(p).filter(e=>{let t=m.find(t=>t.id===e.questionId);return t?.options.find(t=>t.id===e.selectedOption)?.isCorrect}).length+50;await l(e),H.ZP.success(`+${e} XP earned!`)},[p,m,R,l,o]),en=m.map((e,t)=>({id:e.id,isAnswered:!!p[e.id]?.selectedOption,isFlagged:p[e.id]?.flaggedForReview||!1,isCurrent:t===x})),el=Object.values(p).filter(e=>e.selectedOption).length;return n||!K?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):(0,i.jsxs)("div",{className:"min-h-screen bg-background",...ea,children:[i.jsx(Q.O_,{trigger:F,type:"celebration"}),i.jsx(j,{children:U&&i.jsx(v.E.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,i.jsxs)(Q.Wn,{className:"max-w-md w-full text-center",children:[i.jsx("h2",{className:"text-2xl font-bold mb-2",children:K.title}),i.jsx("p",{className:"text-muted-foreground mb-6",children:K.description}),(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6 text-sm",children:[(0,i.jsxs)("div",{className:"p-3 rounded-lg bg-muted",children:[i.jsx("div",{className:"font-bold",children:K.totalQuestions}),i.jsx("div",{className:"text-muted-foreground",children:"Questions"})]}),(0,i.jsxs)("div",{className:"p-3 rounded-lg bg-muted",children:[(0,i.jsxs)("div",{className:"font-bold",children:[K.duration,"m"]}),i.jsx("div",{className:"text-muted-foreground",children:"Duration"})]}),(0,i.jsxs)("div",{className:"p-3 rounded-lg bg-muted",children:[(0,i.jsxs)("div",{className:"font-bold",children:[K.passScore,"%"]}),i.jsx("div",{className:"text-muted-foreground",children:"Pass Score"})]})]}),(0,i.jsxs)("div",{className:"flex gap-3",children:[i.jsx(M.z,{variant:"outline",className:"flex-1",onClick:()=>e.push("/quiz/sets"),children:"Cancel"}),i.jsx(M.z,{className:"flex-1",onClick:()=>{K&&(Z(),g({attemptId:(0,G.Z)(),quizSetId:K.id,quizTitle:K.title,questions:W.nq.slice(0,K.totalQuestions).map((e,t)=>({...e,order:t+1,type:e.type})),duration:K.duration}),$(!1))},children:"Start Quiz"})]})]})})}),c&&!U&&i.jsx("header",{className:"sticky top-0 z-40 glass-card border-b",children:(0,i.jsxs)("div",{className:"container mx-auto px-4 py-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[i.jsx(M.z,{variant:"ghost",size:"icon",onClick:()=>L(!0),children:i.jsx(T.Z,{className:"w-5 h-5"})}),i.jsx(_,{remainingTime:et.remainingTime,totalTime:60*h,isPaused:d,onPause:P,onResume:q}),(0,i.jsxs)(M.z,{onClick:er,className:"gap-2",children:[i.jsx(X,{className:"w-4 h-4"}),"Submit"]})]}),i.jsx("div",{className:"mt-3",children:i.jsx(I,{current:x+1,total:m.length,answered:el,questions:en,onQuestionClick:E,showDots:m.length<=20})})]})}),c&&!U&&!F&&es&&(0,i.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[i.jsx(j,{mode:"wait",children:i.jsx(A,{questionNumber:x+1,totalQuestions:m.length,text:es.text,type:es.type,options:es.options,selectedOption:ei?.selectedOption||null,onSelectOption:e=>f(es.id,e),isFlagged:ei?.flaggedForReview||!1,onToggleFlag:()=>S(es.id),difficulty:es.difficulty},es.id)}),(0,i.jsxs)("div",{className:"flex justify-between mt-8 max-w-3xl mx-auto",children:[(0,i.jsxs)(M.z,{variant:"outline",onClick:z,disabled:0===x,className:"gap-2",children:[i.jsx(B,{className:"w-4 h-4"}),"Previous"]}),x<m.length-1?(0,i.jsxs)(M.z,{onClick:C,className:"gap-2",children:["Next",i.jsx(V,{className:"w-4 h-4"})]}):(0,i.jsxs)(M.z,{onClick:er,className:"gap-2",children:[i.jsx(X,{className:"w-4 h-4"}),"Submit"]})]})]}),F&&i.jsx("main",{className:"container mx-auto px-4 py-8",children:(0,i.jsxs)(Q.Wn,{className:"max-w-2xl mx-auto text-center",children:[i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Quiz Complete! \uD83C\uDF89"}),(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[(0,i.jsxs)("div",{className:"p-4 rounded-xl bg-emerald-500/10",children:[i.jsx("div",{className:"text-3xl font-bold text-emerald-600",children:Object.values(p).filter(e=>{let t=m.find(t=>t.id===e.questionId);return t?.options.find(t=>t.id===e.selectedOption)?.isCorrect}).length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Correct"})]}),(0,i.jsxs)("div",{className:"p-4 rounded-xl bg-red-500/10",children:[i.jsx("div",{className:"text-3xl font-bold text-red-600",children:m.length-Object.values(p).filter(e=>{let t=m.find(t=>t.id===e.questionId);return t?.options.find(t=>t.id===e.selectedOption)?.isCorrect}).length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Incorrect"})]}),(0,i.jsxs)("div",{className:"p-4 rounded-xl bg-primary/10",children:[(0,i.jsxs)("div",{className:"text-3xl font-bold text-primary",children:[Math.round(Object.values(p).filter(e=>{let t=m.find(t=>t.id===e.questionId);return t?.options.find(t=>t.id===e.selectedOption)?.isCorrect}).length/m.length*100),"%"]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Score"})]})]}),(0,i.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,i.jsxs)(M.z,{variant:"outline",onClick:()=>e.push("/dashboard"),className:"gap-2",children:[i.jsx(Y.Z,{className:"w-4 h-4"}),"Dashboard"]}),i.jsx(M.z,{onClick:()=>{Z(),J(!1),$(!0)},children:"Try Again"})]})]})}),i.jsx(j,{children:D&&i.jsx(v.E.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,i.jsxs)(Q.Wn,{className:"max-w-sm w-full text-center",children:[i.jsx("h3",{className:"text-xl font-bold mb-2",children:"Exit Quiz?"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Your progress will be saved. You can resume later."}),(0,i.jsxs)("div",{className:"flex gap-3",children:[i.jsx(M.z,{variant:"outline",className:"flex-1",onClick:()=>L(!1),children:"Continue"}),i.jsx(M.z,{variant:"destructive",className:"flex-1",onClick:()=>{Z(),e.push("/dashboard")},children:"Exit"})]})]})})})]})}},4367:(e,t,s)=>{"use strict";s.d(t,{E:()=>n});var i=s(97247),a=s(28964),r=s(25008);let n=a.forwardRef(({className:e,value:t=0,max:s=100,showLabel:a,variant:n="default",...l},o)=>{let c=Math.min(Math.max(t/s*100,0),100);return(0,i.jsxs)("div",{ref:o,className:(0,r.cn)("relative w-full",e),...l,children:[i.jsx("div",{className:"progress-bar",children:i.jsx("div",{className:(0,r.cn)("progress-bar-fill",{default:"bg-gradient-primary",success:"bg-emerald-500",warning:"bg-amber-500",danger:"bg-red-500"}[n]),style:{width:`${c}%`}})}),a&&(0,i.jsxs)("span",{className:"absolute right-0 top-1/2 -translate-y-1/2 text-xs font-medium text-muted-foreground",children:[Math.round(c),"%"]})]})});n.displayName="Progress"},17712:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});let i=(0,s(26323).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},56460:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});let i=(0,s(26323).Z)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},89559:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});let i=(0,s(26323).Z)("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]])},37013:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});let i=(0,s(26323).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},21512:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});let i=(0,s(45347).createProxy)(String.raw`/app/ielts-mcq-app/app/quiz/[slug]/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[106,257,695,82],()=>s(79305));module.exports=i})();