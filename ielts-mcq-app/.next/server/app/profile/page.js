(()=>{var e={};e.id=178,e.ids=[178],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},6005:e=>{"use strict";e.exports=require("node:crypto")},13801:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>c}),a(6162),a(90235),a(40509),a(68199),a(90996);var t=a(30170),r=a(45002),l=a(83876),i=a.n(l),n=a(66299),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(s,d);let c=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,6162)),"/app/ielts-mcq-app/app/profile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,90235)),"/app/ielts-mcq-app/app/layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,40509)),"/app/ielts-mcq-app/app/error.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,68199)),"/app/ielts-mcq-app/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,90996,23)),"next/dist/client/components/not-found-error"]}],o=["/app/ielts-mcq-app/app/profile/page.tsx"],x="/profile/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},47914:(e,s,a)=>{Promise.resolve().then(a.bind(a,98979))},98979:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>k});var t=a(97247),r=a(28964),l=a(34178),i=a(29350),n=a(81782),d=a(85179),c=a(58053),o=a(70170),x=a(22394),m=a(61600),p=a(88964),u=a(4367),h=a(58621),f=a(72411),g=a(26323);let v=(0,g.Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var j=a(37013);let b=(0,g.Z)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var N=a(74974),y=a(30346),w=a(22392);let P=(0,g.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);function k(){(0,l.useRouter)();let{user:e,isAuthenticated:s,isLoading:a,updateProfile:g}=(0,i.aC)(),[k,M]=(0,r.useState)(!1),[_,q]=(0,r.useState)(""),[C,z]=(0,r.useState)(7),Z=async()=>{await g({name:_,targetBand:C})?(f.ZP.success("Profile updated!"),M(!1)):f.ZP.error("Failed to update profile")};if(a||!e)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})});let S=Math.floor(100*Math.pow(1.5,e.level)),L=Math.floor(100*Math.pow(1.5,e.level-1)),B=(e.xpPoints-L)/(S-L)*100;return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[t.jsx(n.Navbar,{}),t.jsx("main",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[t.jsx(d.Wn,{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[t.jsx(m.q,{src:e.image,fallback:e.name||"U",size:"xl"}),t.jsx("div",{className:"flex-1 text-center md:text-left",children:k?(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx(o.I,{value:_,onChange:e=>q(e.target.value),placeholder:"Your name"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(x._,{children:"Target Band:"}),t.jsx(o.I,{type:"number",min:1,max:9,step:.5,value:C,onChange:e=>z(parseFloat(e.target.value)),className:"w-20"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(c.z,{size:"sm",onClick:Z,className:"gap-1",children:[t.jsx(v,{className:"w-4 h-4"}),"Save"]}),(0,t.jsxs)(c.z,{size:"sm",variant:"outline",onClick:()=>M(!1),className:"gap-1",children:[t.jsx(j.Z,{className:"w-4 h-4"}),"Cancel"]})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[t.jsx("h1",{className:"text-2xl font-bold",children:e.name}),t.jsx(c.z,{size:"icon",variant:"ghost",onClick:()=>M(!0),children:t.jsx(b,{className:"w-4 h-4"})})]}),t.jsx("p",{className:"text-muted-foreground",children:e.email}),(0,t.jsxs)("div",{className:"flex items-center justify-center md:justify-start gap-4 mt-2",children:[(0,t.jsxs)(p.C,{children:["Level ",e.level]}),(0,t.jsxs)(p.C,{variant:"secondary",children:["Target: Band ",e.targetBand]})]})]})}),t.jsx(d.iT,{score:e.targetBand||7,isBandScore:!0,size:"lg",label:"Target"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,t.jsxs)(d.Wn,{className:"text-center",children:[t.jsx(N.Z,{className:"w-8 h-8 mx-auto mb-2 text-amber-500"}),t.jsx("div",{className:"text-2xl font-bold",children:e.xpPoints.toLocaleString()}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"XP Points"})]}),(0,t.jsxs)(d.Wn,{className:"text-center",children:[t.jsx(y.Z,{className:"w-8 h-8 mx-auto mb-2 text-orange-500"}),t.jsx("div",{className:"text-2xl font-bold",children:e.streak}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Day Streak"})]}),(0,t.jsxs)(d.Wn,{className:"text-center",children:[t.jsx(w.Z,{className:"w-8 h-8 mx-auto mb-2 text-primary"}),t.jsx("div",{className:"text-2xl font-bold",children:h.jx.length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Badges"})]}),(0,t.jsxs)(d.Wn,{className:"text-center",children:[t.jsx(P,{className:"w-8 h-8 mx-auto mb-2 text-emerald-500"}),t.jsx("div",{className:"text-2xl font-bold",children:"42"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Quizzes"})]})]}),(0,t.jsxs)(d.Wn,{className:"mb-8",children:[t.jsx("h3",{className:"font-semibold mb-4",children:"Level Progress"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(p.C,{variant:"secondary",children:["Lv.",e.level]}),t.jsx(u.E,{value:B,className:"flex-1 h-3"}),(0,t.jsxs)(p.C,{children:["Lv.",e.level+1]})]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:[S-e.xpPoints," XP needed for next level"]})]}),(0,t.jsxs)(d.Wn,{children:[t.jsx("h3",{className:"font-semibold mb-4",children:"Badges Earned"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:h.jx.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-muted/50",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-primary flex items-center justify-center text-2xl",children:e.icon}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium",children:e.name}),t.jsx(p.C,{variant:e.rarity.toLowerCase(),className:"text-xs",children:e.rarity})]})]},e.id))})]})]})})]})}},70170:(e,s,a)=>{"use strict";a.d(s,{I:()=>i});var t=a(97247),r=a(28964),l=a(25008);let i=r.forwardRef(({className:e,type:s,error:a,...r},i)=>t.jsx("input",{type:s,className:(0,l.cn)("flex h-11 w-full rounded-xl border border-input bg-background px-4 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",a&&"border-destructive focus-visible:ring-destructive",e),ref:i,...r}));i.displayName="Input"},22394:(e,s,a)=>{"use strict";a.d(s,{_:()=>i});var t=a(97247),r=a(28964),l=a(25008);let i=r.forwardRef(({className:e,children:s,required:a,...r},i)=>(0,t.jsxs)("label",{ref:i,className:(0,l.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...r,children:[s,a&&t.jsx("span",{className:"text-destructive ml-1",children:"*"})]}));i.displayName="Label"},4367:(e,s,a)=>{"use strict";a.d(s,{E:()=>i});var t=a(97247),r=a(28964),l=a(25008);let i=r.forwardRef(({className:e,value:s=0,max:a=100,showLabel:r,variant:i="default",...n},d)=>{let c=Math.min(Math.max(s/a*100,0),100);return(0,t.jsxs)("div",{ref:d,className:(0,l.cn)("relative w-full",e),...n,children:[t.jsx("div",{className:"progress-bar",children:t.jsx("div",{className:(0,l.cn)("progress-bar-fill",{default:"bg-gradient-primary",success:"bg-emerald-500",warning:"bg-amber-500",danger:"bg-red-500"}[i]),style:{width:`${c}%`}})}),r&&(0,t.jsxs)("span",{className:"absolute right-0 top-1/2 -translate-y-1/2 text-xs font-medium text-muted-foreground",children:[Math.round(c),"%"]})]})});i.displayName="Progress"},74974:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(26323).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},6162:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(45347).createProxy)(String.raw`/app/ielts-mcq-app/app/profile/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[106,257,906,695,82,782],()=>a(13801));module.exports=t})();